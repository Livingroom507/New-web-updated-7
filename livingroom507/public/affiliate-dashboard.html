<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Affiliate Dashboard | Living Room 507</title>
  <link rel="stylesheet" href="style.css">
  <!-- Adding Font Awesome for Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link rel="stylesheet" href="style-dashboard.css">
</head>
<body class="dashboard-layout">
  <header class="top-nav">
    <div class="brand-title">Living Room 507 MOC Affiliate Dashboard</div>
    <div class="user-profile-container">
      <div class="user-profile" id="user-profile-trigger">
        <div class="user-info">
          <span class="user-name">Affiliate Name</span>
          <span class="user-role">Current Plan</span>
        </div>
        <img src="avatar.png" alt="User avatar" class="avatar">
      </div>
      <div class="dropdown-menu hidden" id="user-dropdown-menu">
        <a href="#settings" class="dropdown-item">Account Settings</a>
        <a href="index.html" class="dropdown-item">Logout</a>
      </div>
    </div>
  </header>

  <aside class="sidebar">
    <nav>
      <ul>
        <li><a href="index.html"><i class="fas fa-home"></i> Back to Home</a></li>
        <li><a href="#overview">Dashboard</a></li>
        <li><a href="#plan-financials">Plan Financials</a></li>
        <li><a href="#plan">My Plan</a></li>
        <li><a href="#referrals">Referrals</a></li>
        <li><a href="#earnings">Earnings</a></li>
        <li><a href="#training">Training Hub</a></li>
        <li><a href="#settings">Settings</a></li>
      </ul>
    </nav>
  </aside>

  <main class="main-content">
    <!-- Overview Section -->
    <section id="overview" class="card">
      <h2>Overview</h2>
      <div class="kpi-cards">
        <div class="kpi-card">
          <div class="label">Total Referrals</div>
          <div class="value" id="kpi-referrals">--</div>
        </div>
        <div class="kpi-card">
          <div class="label">Current Plan</div>
          <div class="value" id="kpi-plan">--</div>
        </div>
        <div class="kpi-card">
          <div class="label">Monthly Earnings</div>
          <div class="value" id="kpi-earnings">--</div>
        </div>
        <div class="kpi-card">
          <div class="label">Compounded Rewards</div>
          <div class="value" id="kpi-rewards">--</div>
        </div>
      </div>
    </section>

    <!-- My Plan Section -->
    <section id="plan" class="card">
      <h2>My Plan Details</h2>
      <div id="plan-details">Loading planâ€¦</div>
      <a href="plans.html" class="btn plan-change-btn">View/Change Plan</a>
    </section>

    <!-- Graph / Trend Section -->
    <section id="trends" class="card">
        <h2>Performance Trends</h2>
        <div class="chart-container">
            <!-- A canvas element for a chart library like Chart.js -->
            <canvas id="performance-chart"></canvas>
        </div>
    </section>

    <!-- Plan Financials Section (Training Lab) -->
    <section id="plan-financials" class="card">
      <h2>Membership Plans & Roles (Training Lab)</h2>
      <p>Explore the available plans and their financial structures within the Livingroom507 community.</p>
      <div class="table-responsive">
        <table id="plans-table" class="table">
          <thead>
            <tr>
              <th>Role</th>
              <th>Plan</th>
              <th>Monthly Cost</th>
              <th>Break-Even Flow</th>
              <th>Network Earnings</th>
              <th>Yearly Capital</th>
            </tr>
          </thead>
          <tbody>
            <!-- Populated by affiliate-dashboard.js -->
          </tbody>
        </table>
      </div>
    </section>

    <!-- Referrals Section -->
    <section id="referrals" class="card">
      <h2>My Referrals</h2>
      <div class="table-responsive">
        <table class="table" id="referrals-table">
          <thead>
            <tr>
              <th>Date</th>
              <th>Referred User</th>
              <th>Plan Chosen</th>
              <th>Commission Earned</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            <!-- populated by JS -->
          </tbody>
        </table>
      </div>
    </section>

    <!-- Earnings Section -->
    <section id="earnings" class="card">
      <h2>My Earnings</h2>
      <div class="table-responsive">
        <table class="table" id="earnings-table">
          <thead>
            <tr>
              <th>Date</th>
              <th>Amount</th>
              <th>Type</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            <!-- populated by JS -->
          </tbody>
        </table>
      </div>
    </section>

    <!-- Training Hub Section -->
    <section id="training" class="card">
      <h2>Training Hub</h2>
      <p>Check out the latest videos and resources to boost your referrals. (Leaderboard coming soon!)</p>
      <div class="training-grid" id="training-list">
        <!-- Training items will be populated by JS -->
      </div>
    </section>

    <!-- Settings Section -->
    <section id="settings" class="card">
      <h2>Account Settings</h2>
      <form id="account-settings-form">
        <div class="form-group">
          <label for="setting-name">Full Name</label>
          <input type="text" id="setting-name" value="Affiliate Name" placeholder="Enter your full name">
        </div>
        <div class="form-group">
          <label for="setting-email">Email Address</label>
          <input type="email" id="setting-email" value="affiliate@example.com" placeholder="Enter your email">
        </div>
        <hr class="form-divider">
        <div class="form-group">
          <label for="setting-password">New Password</label>
          <input type="password" id="setting-password" placeholder="Enter a new password">
        </div>
        <div class="form-group">
          <label for="setting-password-confirm">Confirm New Password</label>
          <input type="password" id="setting-password-confirm" placeholder="Confirm your new password">
        </div>
        <button type="submit" class="btn">Save Changes</button>
      </form>
    </section>
  </main>

  <!--
    The mock-api.js file is needed for the affiliate dashboard to load its data.
    It's also used by plans.html.
  -->
  <script src="mock-api.js"></script>
  <script src="affiliate-dashboard.js"></script>
</body>
</html>